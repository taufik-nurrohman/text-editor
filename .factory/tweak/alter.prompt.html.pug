extends ../_index.pug

block state
  - const scripts = ['../index.min.js']
  - const title = 'Text Editor'

block script
  script
    | const editor = new TextEditor(document.querySelector('textarea'));
    |
    | function insertImage() {
    |     let value = window.prompt('URL:', 'http://');
    |     if (value && 'http://' !== value) {
    |         editor.trim('\n\n', '\n\n').insert('<img alt="" src="' + value + '">', -1, true);
    |     }
    | }
    |
    | function insertLink() {
    |     let value = window.prompt('URL:', 'http://');
    |     if (value && 'http://' !== value) {
    |         editor.wrap('<a href="' + value + '">', '</a>');
    |     }
    | }

block content
  main
    p: textarea(cols='100' rows='20' spellcheck='false') Lorem ipsum dolor sit amet.
    p
      button(onclick='insertLink();') Link
      = ' '
      button(onclick='insertImage();') Image