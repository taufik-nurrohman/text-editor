<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta content="#000" name="theme-color">
    <meta content="width=device-width" name="viewport">
    <meta content="A text selection range API written in pure JavaScript, for modern browsers." name="description">
    <title>Text Editor 3.3.4</title>
    <style>
      * {
        box-sizing: border-box;
      }
      :root {
        background: #fff;
        color: #000;
        border-top: 4px solid;
        font: normal normal 16px/1.25 serif;
      }
      a {
        color: #009;
        text-decoration: none;
      }
      a,
      code {
        word-wrap: break-word;
      }
      code {
        font-family: monospace;
        font-size: 80%;
      }
      footer,
      header,
      main,
      nav {
        max-width: 700px;
        margin: 0 auto;
      }
      hr {
        border: 0;
        color: inherit;
        border-top: 1px dashed;
        height: 0;
      }
      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      pre code {
        display: block;
        background: #eee;
        padding: 1em;
      }
      table {
        width: 100%;
      }
      td,
      th {
        text-align: left;
        vertical-align: top;
      }
      body > p:first-child {
        background: #ffa;
        border: 1px dashed;
        margin-top: 0;
        padding: .75em 1em;
      }
    </style>
  </head>
  <body>
    <p>Do you like this project? Please support my <a href="https://github.com/mecha-cms">Mecha CMS</a> project too. Thank you!</p>
    <header>
      <h1>Text Editor 3.3.4</h1>
      <p>Text Editor is a simple JavaScript application that aims to provide accessibility improvements to the native HTML <code>&lt;textarea&gt;</code> elements so that users can control and manipulate their data in the text editor as they wish.</p>
      <hr>
    </header>
    <main>
      <p>It contains very sufficient methods to manipulate the existing text selection range data without providing unnecessary features. This ensures the file size remains small and keeps the scope of learning curve to be narrow, so that you can focus on the results.</p>
      <p><textarea spellcheck="false" style="display:block;width:100%;height:6em;box-sizing:border-box;">Lorem ipsum dolor sit amet.</textarea></p>
      <p><button onclick="editor.wrap('&lt;b&gt;', '&lt;/b&gt;');"><b>B</b></button> <button onclick="editor.wrap('&lt;i&gt;', '&lt;/i&gt;');"><i>I</i></button> <button onclick="editor.insert('😀', -1, true);">&#x263A;</button></p>
      <h2>Features</h2>
      <ul>
        <li>Light-weight, no dependencies. It uses vanilla JavaScript.</li>
        <li>Simple <abbr title="Application Programming Interface">API</abbr>. Easy to master.</li>
        <li>No hack and no feature detection. Optimized for modern browsers with their built-in JavaScript features.</li>
        <li>Make your own. The core functionality is enough to help you making your own text editor.</li>
      </ul>
      <h2>Usage</h2>
      <h3>Browser</h3>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html dir="ltr"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;&lt;textarea&gt;&lt;/textarea&gt;&lt;/p&gt;
    &lt;script src="<a href="index.min.js" target="_blank">./index.min.js</a>"&gt;&lt;/script&gt;
    &lt;script&gt;
    const editor = new TE(document.querySelector('textarea'));
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <h3>Node.js</h3>
      <p>Functions and methods in this application are mostly native JavaScript and are intended for use by the browser. Node.js doesn&rsquo;t know about the DOM, so this kind of practice will probably be used more often to build new browser packages than to be used directly in the Node.js server.</p>
      <h4>CommonJS</h4>
      <pre><code>const TE = require('@taufik-nurrohman/text-editor');

const editor = new TE(document.querySelector('textarea'));</code></pre>
      <h4>ECMAScript</h4>
      <pre><code>import TE from '@taufik-nurrohman/text-editor';

const editor = new TE(document.querySelector('textarea'));</code></pre>
      <h2>Examples</h2>
      <ul>
        <li><a href="test.html" target="_blank">No Idea?</a></li>
        <li><a href="test/self.html" target="_blank">Multiple Instances</a></li>
        <li><a href="test/disabled.html" target="_blank">Disabled Text Area</a></li>
        <li><a href="test/readonly.html" target="_blank">Read-Only Text Area</a></li>
        <li><a href="test/get,let,set.html" target="_blank">Set, Get and Let Value</a></li>
        <li><a href="test/$.html" target="_blank">Get Selection Data</a></li>
        <li><a href="test/blur,focus.html" target="_blank">Focus, Blur Events</a></li>
        <li><a href="test/select.html" target="_blank">Set Selection Range</a></li>
        <li><a href="test/match.html" target="_blank">Match Selection</a></li>
        <li><a href="tweak/alter.html" target="_blank">Alter Selection</a></li>
        <li><a href="tweak/alter.prompt.html" target="_blank">Alter Selection with Prompt Value</a></li>
        <li><a href="tweak/toggle.html" target="_blank">Toggle Replace Selection</a></li>
        <li><a href="test/replace.html" target="_blank">Replace Selection</a></li>
        <li><a href="test/insert.html" target="_blank">Insert Selection</a></li>
        <li><a href="test/peel,wrap.html" target="_blank">Wrap, Peel Selection</a></li>
        <li><a href="test/pull,push.html" target="_blank">Indent, Outdent Selection</a></li>
        <li><a href="tweak/pull,push.type.html" target="_blank">Indent, Outdent by Custom Character</a></li>
        <li><a href="tweak/pull,push.key.html" target="_blank">Indent, Outdent with Keyboard Key</a></li>
        <li><a href="tweak/replace,search.html" target="_blank">Search/Replace Functionality</a></li>
        <li><a href="test/trim.html" target="_blank">Trim Selection</a></li>
        <li><a href="test/self.input.html" target="_blank">Using <code>&lt;input&gt;</code> Instead of <code>&lt;textarea&gt;</code></a></li>
      </ul>
      <h2>Settings</h2>
      <table border="1">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>self</code></td>
            <td>The text area element.</td>
          </tr>
          <tr>
            <td><code>tab</code></td>
            <td>The default indent character for <code>editor.pull()</code> and <code>editor.push()</code> method.</td>
          </tr>
          <tr>
            <td><code>state</code></td>
            <td>The configuration data.</td>
          </tr>
          <tr>
            <td><code>state.tab</code></td>
            <td>The default indent character for <code>editor.pull()</code> and <code>editor.push()</code> method.</td>
          </tr>
        </tbody>
      </table>
      <pre><code>const editor = new TE(<var>self</var>, <var>tab</var> = '\t');</code></pre>
      <pre><code>const editor = new TE(<var>self</var>, <var>state</var> = {
    tab: '\t'
});</code></pre>
      <h2>Methods and Properties</h2>
      <h3>TE.esc(string)</h3>
      <p>Escape regular expression&rsquo;s special characters.</p>
      <h3>TE.instances</h3>
      <p>Return the application instances.</p>
      <pre><code>for (let key in TE.instances) {
    console.log(key);
    console.log(TE.instances[key]);
}</code></pre>
      <h3>TE.state</h3>
      <p>This property stores the initial values of <code>editor.state</code>.</p>
      <pre><code>const editor = new TE({
    foo: ['bar', 'baz', 'qux']
});

console.log([TE.state, editor.state]);</code></pre>
      <h3>TE.version</h3>
      <p>Return the application version.</p>
      <pre><code>let version = TE.version,
    major = version.split('.')[0];

if (+major &lt; 3) { &hellip; }</code></pre>
      <h3>TE.x</h3>
      <p>List of regular expression characters to be escaped.</p>
      <h3>editor.blur()</h3>
      <p>Blur from the <code>&lt;textarea&gt;</code> element.</p>
      <h3>editor.focus(mode = 0)</h3>
      <p>Focus to the <code>&lt;textarea&gt;</code> element.</p>
      <pre><code>editor.focus(); // Focus to the last selection
editor.focus(-1); // Focus to the start of text area value
editor.focus(1); // Focus to the end of text area value
editor.focus(true); // Select all</code></pre>
      <h3>editor.get()</h3>
      <p>Get current value of the <code>&lt;textarea&gt;</code> element if not empty, otherwise, return <code>null</code>.</p>
      <h3>editor.insert(string, mode = 0, clear = false)</h3>
      <p>Insert <var>string</var> to (replace) the current selection.</p>
      <pre><code>editor.insert(':)'); // Insert at selection (replace selection)
editor.insert('&lt;b&gt;', -1); // Insert before selection
editor.insert('&lt;/b&gt;', 1); // Insert after selection
editor.insert(':)', -1, true); // Insert before selection and delete selection
editor.insert(':)', 1, true); // Insert after selection and delete selection</code></pre>
      <h3>editor.let()</h3>
      <p>Reset value to the initial value of the <code>&lt;textarea&gt;</code> element.</p>
      <h3>editor.match(pattern, then)</h3>
      <p>Match current selection with the pattern provided.</p>
      <pre><code>if (editor.match(/^\s*:\w+:\s*$/)) {
    alert('Selection is detected as emoji!'); // &rarr; <a href="test/match.html" target="_blank">demo</a>
}</code></pre>
      <p>Do something with the current matched selection.</p>
      <pre><code>let maps = {
    ':happy:': '😀',
    ':sad:': '😩',
    ':wonder:': '😕'
};

editor.match(/^\s*:\w+:\s*$/, function(m) {
    let exists = maps[m[0] = m[0] ? m[0].trim() : ""];
    exists &amp;&amp; this.insert(exists); // &rarr; <a href="test/alter.html" target="_blank">demo</a>
});</code></pre>
      <p>Match to the characters before selection, current selection and characters after selection.</p>
      <pre><code>let test = editor.match([/:$/, /^\w+$/, /^:/]);
console.log(test[0] &amp;&amp; test[1] &amp;&amp; test[2]);</code></pre>
      <pre><code>editor.match([/:$/, /^\w+$/, /^:/], function(before, value, after) {
    console.log([before, value, after]); // &rarr; <a href="test/toggle.html" target="_blank">demo</a>
});</code></pre>
      <h3>editor.peel(open, close, wrap = false)</h3>
      <p>Unwrap current selection from <var>open</var> and <var>close</var>.</p>
      <pre><code>editor.peel('&lt;', '&gt;'); // Remove `&lt;` before selection and `&gt;` after selection
editor.peel('&lt;', '&gt;', true); // Remove `&lt;` at selection start and `&gt;` at selection end</code></pre>
      <h3>editor.pull(by = editor.state.tab, includeEmptyLines = true)</h3>
      <p>Outdent current selection from <var>by</var>.</p>
      <pre><code>editor.pull(); // Outdent from `\t`
editor.pull('****'); // Outdent from `****`</code></pre>
      <h3>editor.push(by = editor.state.tab, includeEmptyLines = false)</h3>
      <p>Indent current selection with <var>by</var>.</p>
      <pre><code>editor.push(); // Indent with `\t`
editor.push('****'); // Indent with `****`</code></pre>
      <h3>editor.replace(from, to, mode = 0)</h3>
      <p>Replace current, before or after selection from <var>from</var> to <var>to</var>.</p>
      <pre><code>editor.replace(/&lt;.*?&gt;/g, ""); // Strip HTML tag(s) in selection
editor.replace(/&lt;.*?&gt;/g, "", -1); // Strip HTML tag(s) before selection
editor.replace(/&lt;.*?&gt;/g, "", 1); // Strip HTML tag(s) after selection</code></pre>
      <h3>editor.select(...lot)</h3>
      <p>Set selection range.</p>
      <pre><code>editor.select(); // Is the same as `editor.focus()`
editor.select(2); // Move caret to the index `2`
editor.select(0, 2); // Select from range `0` to `2`
editor.select(true); // Select all</code></pre>
      <h3>editor.self</h3>
      <p>Return the <code>&lt;textarea&gt;</code> element.</p>
      <pre><code>editor.self.addEventListener('keydown', e =&gt; {
    if (
        (e.key &amp;&amp; 'Enter' === e.key) ||
        (e.keyCode &amp;&amp; 13 === e.keyCode)
    ) {
        // Do something with `Enter` key!
    }
});</code></pre>
      <h3>editor.set(value)</h3>
      <p>Set value to the <code>&lt;textarea&gt;</code> element.</p>
      <h3>editor.source</h3>
      <p>Alias of <code>editor.self</code> property.</p>
      <h3>editor.state</h3>
      <p>Return the text editor states if any.</p>
      <h3>editor.trim(open = "", close = "", start = "", end = "", tidy = true)</h3>
      <p>Trim current selection from white-spaces, and optionally insert characters at the specified points.</p>
      <pre><code>// `a&lt;open&gt;<mark>&lt;start&gt;b&lt;end&gt;</mark>&lt;close&gt;c`

editor.trim(); // Remove any white-space(s) before and after selection, start and end of selection
editor.trim(false, false); // Remove any white-space(s) at the start and end of selection
editor.trim("", "", false, false); // Remove any white-space(s) before and after selection
editor.trim(' ', ' '); // Force a space before and after selection
editor.trim('\n\n', '\n\n'); // Force line-break before and after selection
editor.trim('\n\n', '\n\n', "", "", false); // Ignore empty value before and after selection, just insert that `\n\n` away</code></pre>
      <h3>editor.value</h3>
      <p>Return the initial value of the <code>&lt;textarea&gt;</code> element.</p>
      <h3>editor.wrap(open, close, wrap = false)</h3>
      <p>Wrap current selection with <var>open</var> and <var>close</var>.</p>
      <pre><code>editor.wrap('&lt;', '&gt;'); // Wrap with `&lt;` and `&gt;`
editor.wrap('&lt;', '&gt;', true); // Wrap with `&lt;` and `&gt;` then select</code></pre>
      <h3>editor.$()</h3>
      <p>Get current text selection data.</p>
      <pre><code>// `a<mark>|b|</mark>c`
console.log(editor.$()); // `{"after":"c","before":"a","end":2,"length":1,"start":1,"value":"b"}`</code></pre>
      <h2>Extensions</h2>
      <ul>
        <li><a href="../text-editor.history/index.html" target="_blank">History Feature</a></li>
        <li><a href="../text-editor.rect/index.html" target="_blank">Rect Feature</a></li>
        <li><a href="../text-editor.source/index.html" target="_blank">Source Code Editor</a></li>
        <li><a href="../text-editor.source-x-m-l/index.html" target="_blank">XML Source Code Editor</a></li>
        <li><a href="../text-editor.source-h-t-m-l/index.html" target="_blank">HTML Source Code Editor</a></li>
        <li><a href="../text-editor.source-markdown/index.html" target="_blank">Markdown Source Code Editor</a></li>
        <li>BBCode Editor</li>
        <li>HTML Editor</li>
        <li>Markdown Editor</li>
      </ul>
      <h2>License</h2>
      <p>Use it for free, pay if you get paid. So, you&rsquo;ve just benefited financially after using this project? It&rsquo;s a good idea to <a href="https://paypal.me/tatautaufik" target="_blank">share a little financial support</a> with this open source project too. Your support will motivate me to do any further development, as well as to provide voluntary support to overcome problems related to this project.</p>
      <p>Thank you! ❤️</p>
    </main>
    <footer>
      <hr>
      <p>&copy; 2021 <a href="/">Taufik Nurrohman</a></p>
    </footer>
    <script src="index.min.js"></script>
    <script>
      const editor = new TE(document.querySelector('textarea'));
    </script>
  </body>
</html>