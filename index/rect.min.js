!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=function(t){return Array.isArray(t)},n=function(t){return"number"==typeof t},r=function(t,n){return void 0===n&&(n=!0),"object"==typeof t&&(!n||function(t,n){return t&&e(n)&&t instanceof n}(t,Object))},e=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},i=function(t){return"string"==typeof t},o=function(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},u=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},f=function(t){return t.replace(/[-_.](\w)/g,(function(t,n){return a(n)}))},a=function(t){return t.toUpperCase()},c=function(t,n){return void 0===n&&(n=10),n?parseInt(t,n):parseFloat(t)},l=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(t){return/^-?(?:\d*.)?\d+$/.test(t+"")}(e))return c(e);if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},d=document,s=window,p=d.body,h=function(t,n,r){void 0===r&&(r=!0);var e=s.getComputedStyle(t).getPropertyValue(n);return r&&(e=l(e)),e||""===e||0===e?e:null},g=function(t,n){return t.removeAttribute(n),t},v=function(t,n){return t.style[f(n)]=null,t},w=function(t,n,r){return!0===r&&(r=n),t.setAttribute(n,u(r)),t},m=function(t,n,r){if(void 0===r&&(r=!0),null===n)return t;var e="innerHTML";return function(t,n){return n in t}(t,e)&&(t[e]=r?n.trim():n),t},y=function(t,r,e){return n(e)&&(e+="px"),t.style[f(r)]=u(e),t},b=function(t){return[t.offsetLeft,t.offsetTop]},x=function(t){return function(t){return t===s}(t)?[t.innerWidth,t.innerHeight]:[t.offsetWidth,t.offsetHeight]};function z(t,n="span"){return"<"+n+">"+t+"</"+n+">"}function j(t,r,e){let i=z("&zwnj;"),u=["border-bottom-width","border-left-width","border-right-width","border-top-width","box-sizing","direction","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","max-width","min-height","min-width","padding-bottom","padding-left","padding-right","padding-top","tab-size","text-align","text-decoration","text-indent","text-transform","width","word-spacing"];m(r,z(o(t.before))+i+z(o(t.value),"mark")+i+z(o(t.after)));let f="";u.forEach((t=>{let n=h(e,t);n&&(f+=t+":"+n+";")}));let a=c(h(e,u[1]),0),l=c(h(e,u[3]),0),[d,s]=b(e),[g,j]=x(e);var A;w(r,"style",f),function(t,n){var r;for(var e in n)(r=n[e])||""===r||0===r?y(t,e,r):v(t,e)}(r,{"border-style":"solid","white-space":"pre-wrap","word-wrap":"break-word",overflow:"auto",position:"absolute",left:d,top:s,visibility:"hidden"}),A=r,p.append(A);let E=function(t,r){var e=t.children;return n(r)?e[r]||null:e||[]}(r),H=E[1],T=E[2],k=E[3],C=b(H),L=x(H),W=b(T),$=x(T),F=b(k),I=x(k);return[{h:L[1],w:0,x:C[0]+d+a,y:C[1]+s+l},{h:I[1],w:0,x:F[0]+d+a,y:F[1]+s+l},{h:$[1],w:W[0],x:W[0]+d+a,y:W[1]+s+l},{h:j,w:g,x:d,y:s}]}const A=TE.prototype;var E,H,T;A.mirror=(E=i(E="div")?d.createElement(E):E,r(H)&&(T=H,H=!1),i(H)&&m(E,H),r(T)&&function(t,n){var r;for(var e in n)(r=n[e])||""===r||0===r?w(t,e,r):g(t,e)}(E,T),E),A.rect=function(t){let n=this,r=j(n.$(),n.mirror,n.self);return e(t)?[r[0][t],r[1][t]]:r}}));