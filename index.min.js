/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2020 Taufik Nurrohman
 *
 * <https://github.com/taufik-nurrohman/text-editor>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TE=t()}(this,(function(){"use strict";var e=function(e){return"function"==typeof e},t=function(e,t){return e&&n(t)&&e instanceof t},n=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},r=function(e){return e.length},u=function(e){return Object.keys(e)},c=document,l=window,o=c.body,a=c.documentElement,i=function(e,t){return void 0===t&&(t=""),e.replace(p("["+t+v.replace(/./g,"\\$&")+"]"),"\\$&")},f=function(e){return s(e)?e.source.replace(/\\\//g,"/"):null},s=function(e){return t(e,RegExp)},p=function(e,t){return s(e)?e:(e=e.replace(/\//g,"\\/"),RegExp(e,n(t)?t:"g"))},v="!$^*()+=[]{}|:<>,.?/-";function d(e,t){return(e||"")["trim"+(-1===t?"Left":1===t?"Right":"")]()}function g(c,s){if(void 0===s&&(s={}),c){var v=this;if(!c.TE){if(!t(v,g))return new g(c,s);v.state=s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}(g.state,function(e){return"string"==typeof e}(s)?{tab:s}:s||{}),v.self=v.source=c,g.instances[c.id||c.name||function(e){return r(u(e))}(g.instances)]=v,c.TE=1;var $=/^([\s\S]*?)$/,b=function(){return c.disabled},h=function(){return c.readOnly},m=function(){return c.value.replace(/\r/g,"")};return v.value=m(),v.get=function(){return!b()&&d(m())||null},v.let=function(){return c.value=v.value},v.set=function(e){return b()||h()||(c.value=e),v},v.$=function(){return new g.S(c.selectionStart,c.selectionEnd,m())},v.focus=function(e){var t,u;return-1===e?t=u=0:1===e&&(t=r(m()),u=c.scrollHeight),n(t)&&n(u)&&(c.selectionStart=c.selectionEnd=t,c.scrollTop=u),c.focus(),v},v.blur=function(){return c.blur(),v},v.select=function(){if(b()||h())return c.focus(),v;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var u,i,f,s,p=r(t),d=v.$(),g=d.start,$=d.end;if(u=l.pageXOffset||a.scrollLeft||o.scrollLeft,i=l.pageYOffset||a.scrollTop||o.scrollTop,f=c.scrollLeft,s=c.scrollTop,0===p)t[0]=g,t[1]=$;else if(1===p){if(!0===t[0])return c.focus(),c.select(),v;t[1]=t[0]}return c.focus(),c.selectionStart=t[0],c.selectionEnd=t[1],c.scrollLeft=f,c.scrollTop=s,l.scroll(u,i),v},v.match=function(t,n){var r=v.$(),u=r.after,c=r.before,l=r.value;if(function(e){return Array.isArray(e)}(t)){var o=[c.match(t[0]),l.match(t[1]),u.match(t[2])];return e(n)?n.call(v,o[0]||[],o[1]||[],o[2]||[]):[!!o[0],!!o[1],!!o[2]]}var a=l.match(t);return e(n)?n.call(v,a||[]):!!a},v.replace=function(e,t,n){var u=v.$(),c=u.after,l=u.before,o=u.value;return-1===n?l=l.replace(e,t):1===n?c=c.replace(e,t):o=o.replace(e,t),v.set(l+o+c).select(l=r(l),l+r(o))},v.insert=function(e,t,n){var r=$;return n&&v.replace(r,""),-1===t?r=/$/:1===t&&(r=/^/),v.replace(r,e,t)},v.wrap=function(e,t,n){var u=v.$(),c=u.after,l=u.before,o=u.value;return n?v.replace($,e+"$1"+t):v.set(l+e+o+t+c).select(l=r(l+e),l+r(o))},v.peel=function(e,t,n){var u=v.$(),c=u.after,l=u.before,o=u.value;e=f(e)||i(e),t=f(t)||i(t),e=e.replace(/^\^|\$$/g,""),t=t.replace(/^\^|\$$/,"");var a=p(e+"$",""),s=p("^"+t,"");return n?v.replace(p("^"+e+"([\\s\\S]*?)"+t+"$",""),"$1"):a.test(l)&&s.test(c)?(l=l.replace(a,""),c=c.replace(s,""),v.set(l+o+c).select(l=r(l),l+r(o))):v.select()},v.pull=function(e,t){void 0===t&&(t=!0);var r=v.$(),u=r.length,c=r.value;return e=n(e)?e:s.tab,e=(e=f(e)||i(e)).replace(/^\^/,""),u?t?v.replace(p("^"+e,"gm"),""):v.insert(c.split("\n").map((function(t){return p("^("+e+")*$","").test(t)?t:t.replace(p("^"+e,""),"")})).join("\n")):v.replace(p(e+"$",""),"",-1)},v.push=function(e,t){void 0===t&&(t=!1);var r=v.$().length;return e=n(e)?e:s.tab,r?v.replace(p("^"+(t?"":"(?!$)"),"gm"),e):v.insert(e,-1)},v.trim=function(e,t,n,u,c){void 0===c&&(c=!0),null!==e&&!1!==e&&(e=e||""),null!==t&&!1!==t&&(t=t||""),null!==n&&!1!==n&&(n=n||""),null!==u&&!1!==u&&(u=u||"");var l=v.$(),o=l.before,a=l.value,i=l.after,f=d(o,1),s=d(i,-1);return o=!1!==e?d(o,1)+(f||!c?e:""):o,i=!1!==t?(s||!c?t:"")+d(i,-1):i,!1!==n&&(a=d(a,-1)),!1!==u&&(a=d(a,1)),v.set(o+a+i).select(o=r(o),o+r(a))},v.pop=function(){return c.TE?(delete c.TE,v):v},v.state=s,v}}}return g.esc=i,g.instances={},g.state={tab:"\t"},g.S=function(e,t,n){var u=this,c=n.slice(e,t);u.start=e,u.end=t,u.value=c,u.before=n.slice(0,e),u.after=n.slice(t),u.length=r(c),u.toString=function(){return c}},g.version="3.2.5",g.x=v,g}));