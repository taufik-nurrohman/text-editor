/*!
 * ==============================================================
 *  TEXT EDITOR HISTORY 1.1.1
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function r(t,n,e){return u(n)&&n>t?n:u(e)&&t>e?e:t}function u(t){return void 0!==t}var i=t[e],o=i._,f="_history",a=f+"State";o[f]=[],o[a]=-1,o.history=function(t){var n=this;return u(t)?u(n[f][t])?n[f][t]:null:n[f]},o.record=function(t){var n=this,e=n.$(),r=n[f][n[a]]||[],i=[n.self.value,e.start,e.end];return i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2]?n:(++n[a],n[f][u(t)?t:n[a]]=i,n)},o.loss=function(t){var n,e=this;return!0===t?(e[f]=[],e[a]=-1,[]):(n=e[f].splice(u(t)?t:e[a],1),e[a]=r(e[a]-1,-1),n)},o.undo=function(){var t,n=this;return n[a]=r(n[a]-1,0,n[f].length-1),t=n[f][n[a]],n.set(t[0]).select(t[1],t[2])},o.redo=function(){var t,n=this;return n[a]=r(n[a]+1,0,n[f].length-1),t=n[f][n[a]],n.set(t[0]).select(t[1],t[2])}}(this,this.document,"TE");
