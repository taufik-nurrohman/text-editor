/*!
 * ==========================================================
 *  TEXT EDITOR HISTORY 1.1.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(t,n,e){function r(t,n,e){return i(n)&&n>t?n:i(e)&&t>e?e:t}function i(t){return void 0!==t}var o=t[e],s=o._,u="_history",a=u+"State";s[u]=[],s[a]=-1,s.history=function(t){var n=this;return i(t)?i(n[u][t])?n[u][t]:null:n[u]},s.record=function(t){var n=this,e=n.$(),r=n[u][n[a]]||[],o=[n.get(),e.start,e.end];return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]?n:(++n[a],n[u][i(t)?t:n[a]]=o,n)},s.loss=function(t){var n,e=this;return!0===t?(e[u]=[],e[a]=-1,[]):(n=e[u].splice(i(t)?t:e[a],1),e[a]=r(e[a]-1,-1),n)},s.undo=function(){var t,n=this;return n[a]=r(n[a]-1,0,n[u].length-1),t=n[u][n[a]],n.set(t[0]).select(t[1],t[2])},s.redo=function(){var t,n=this;return n[a]=r(n[a]+1,0,n[u].length-1),t=n[u][n[a]],n.set(t[0]).select(t[1],t[2])}}(window,document,"TE");