/*!
 * ==============================================================
 *  TEXT EDITOR SOURCE 1.1.2
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(e,t,n){function o(e,t,n){e.removeEventListener(t,n)}function r(e,t,n){e.addEventListener(t,n,!1)}function a(e,t){return Object.assign(e,t)}function c(e){return"function"==typeof e}function i(e){e&&e.preventDefault()}var u,s,f=e[n],l=setTimeout,d=f.esc,p="blur",v="close",y="ctrlKey",b="disabled",h="focus",m="fromCharCode",w="indexOf",g="lastIndexOf",E="keydown",$="match",k="mousedown",x="mouseup",C="pull",O="push",L="readOnly",_="record",K="redo",R="replace",T="select",j="shiftKey",z="toLowerCase",D="touch",I=D+"end",S=D+"start",W="undo";u=function(e,t){function u(){e[b]||e[L]||l(function(){{var e=A.$(),t=/\W/g,n=".",o=e.before[R](t,n)[g](n),r=e.after[R](t,n)[w](n);e.value}o=0>o?0:o+1,r=0>r?e.after.length:r,M!==e.start&&A[T](o,e.end+r)},0)}function s(){M=A.$().start}function D(n){if(!e[b]&&!e[L]){var o=N[v],r=t.tab,a=n.keyCode,c=(n.key||String[m](a))[z](),u=n[y],s="enter"===c||13===a,f=n[j],w="tab"===c||9===a,g=A.$(),E=g.before,k=g.value,x=g.after,_=E.slice(-1),R=x.slice(0,1),D=E[$](RegExp("(?:^|\\n)("+d(r)+"+).*$")),I=D?D[1]:"",S=o[c];u?F&&("z"===c||90===a?(A[W](),i(n)):("y"===c||89===a)&&(A[K](),i(n))):w?(A[f?C:O](r),q(),i(n)):"\\"!==_&&c===R?(A[T](g.end+1),q(),i(n)):"\\"!==_&&S?(q(),A.wrap(c,S),q(),i(n)):"backspace"===c||8===a?(!k&&E[$](RegExp(d(r)+"$"))?(A[C](r),i(n)):(S=o[_],S&&S===R&&(A.peel(_,R),i(n))),q()):"delete"===c||46===a?(S=o[_],S&&S===R&&(A.peel(_,R),i(n)),q()):s?(S=o[_],S&&S===R?(A.wrap("\n"+r+I,"\n"+I)[p]()[h](),i(n)):(k||I)&&(A.insert("\n",-1,!0)[O](I)[p]()[h](),i(n)),q()):l(q,0)}}function q(){F&&A[_]()}var A=this,B=A.pop,F=W in f._;f.call(this,e,t);var G="source",t=A.state,H={},J=!(G in t)||t[G];H[v]={"(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},H[T]=!0,J&&(t[G]=a(H,!0===t[G]?{}:t[G]));var M,N=t[G]||{};J&&(r(e,E,D),N[T]&&(r(e,k,u),r(e,x,s),r(e,I,s),r(e,S,u)),q()),A.pop=function(){return c(B)&&B.call(A),o(e,E,D),o(e,k,u),o(e,x,s),o(e,I,s),o(e,S,u),delete e[n],F&&A[loss](!0),A},A.state=t};for(s in f)u[s]=f[s];u.prototype=u._=f._,e[n]=u}(window,document,"TE");