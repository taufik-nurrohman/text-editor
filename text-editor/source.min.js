/*!
 * ==============================================================
 *  TEXT EDITOR SOURCE 1.1.5
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(e,t,n){function r(e,t,n){e.removeEventListener(t,n)}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t){return Object.assign(e,t)}function u(e){e&&e.preventDefault()}var a,f,s=e[n],c=e.setTimeout,l=s.esc,d="blur",p="close",v="ctrlKey",h="disabled",g="focus",b="fromCharCode",m="indexOf",y="lastIndexOf",$="keydown",w="match",x="mousedown",E="mouseup",_="pull",k="push",T="readOnly",O="record",S="redo",z="replace",L="select",C="shiftKey",R="toLowerCase",j="touch",K=j+"end",H=j+"start",W="undo";a=function(e,t){function n(){e[h]||e[T]||c(function(){{var e=D.$(),t=/\W/g,n=".",r=e.before[z](t,n)[y](n),o=e.after[z](t,n)[m](n);e.value}r=0>r?0:r+1,o=0>o?e.after.length:o,F!==e.start&&D[L](r,e.end+o)},0)}function a(){F=D.$().start}function f(n){if(!e[h]&&!e[T]){var r=M[p],o=t.tab,i=n.keyCode,a=(n.key||String[b](i))[R](),f=n[v],s="enter"===a||13===i,m=(n[C],D.$()),y=m.before,$=m.value,x=m.after,E=y.slice(-1),O=x.slice(0,1),z=y[w](RegExp("(?:^|\\n)("+l(o)+"+).*$")),K=z?z[1]:"",H=r[a];f?"z"===a||90===i?(D[W](),j(),u(n)):"y"===a||89===i?(D[S](),j(),u(n)):"]"===a||221===i?(D[k](o),j(),u(n)):("["===a||219===i)&&(D[_](o),j(),u(n)):"\\"!==E&&a===O?(D[L](m.end+1),j(),u(n)):"\\"!==E&&H?(j(),D.wrap(a,H),j(),u(n)):"backspace"===a||8===i?(!$&&y[w](RegExp(l(o)+"$"))?(D[_](o),j(),u(n)):(H=r[E],H&&H===O&&(D.peel(E,O),u(n))),j()):"delete"===a||46===i?(H=r[E],H&&H===O&&(D.peel(E,O),u(n)),j()):s?(H=r[E],H&&H===O?(D.wrap("\n"+o+K,"\n"+K)[d]()[g](),u(n)):($||K)&&(D.insert("\n",-1,!0)[k](K)[d]()[g](),u(n)),j()):c(j,0)}}function j(){A&&D[O]()}var D=this,I=D.pop,A=W in s._;s.call(D,e,t);var N="source",t=D.state,X={},Y=!(N in t)||t[N];X[p]={"(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},X[L]=!0,Y&&(t[N]=i(X,!0===t[N]?{}:t[N]));var F,M=t[N]||{};Y&&(o(e,$,f),M[L]&&(o(e,x,n),o(e,E,a),o(e,K,a),o(e,H,n)),j()),D.pop=function(){return I&&I.call(D),r(e,$,f),r(e,x,n),r(e,E,a),r(e,K,a),r(e,H,n),A&&D.loss(!0),D},D.state=t};for(f in s)a[f]=s[f];a.prototype=a._=s._,e[n]=a}(this,this.document,"TE");
