/*!
 * ==============================================================
 *  TEXT EDITOR SOURCE 1.1.4
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,e,n){function o(t,e,n){t.removeEventListener(e,n)}function i(t,e,n){t.addEventListener(e,n,!1)}function r(t,e){return Object.assign(t,e)}function s(t){t&&t.preventDefault()}var a,c,l=t[n],u=setTimeout,f=l.esc,d="blur",h="close",p="ctrlKey",m="disabled",v="focus",g="fromCharCode",w="indexOf",b="lastIndexOf",y="keydown",x="match",E="mousedown",L="mouseup",S="pull",T="push",k="readOnly",A="record",N="redo",j="replace",q="select",R="shiftKey",C="toLowerCase",O="touch",P=O+"end",_=O+"start",$="undo";a=function(t,e){function n(){t[m]||t[k]||u(function(){{var t=M.$(),e=/\W/g,n=".",o=t.before[j](e,n)[b](n),i=t.after[j](e,n)[w](n);t.value}o=0>o?0:o+1,i=0>i?t.after.length:i,F!==t.start&&M[q](o,t.end+i)},0)}function a(){F=M.$().start}function c(n){if(!t[m]&&!t[k]){var o=B[h],i=e.tab,r=n.keyCode,a=(n.key||String[g](r))[C](),c=n[p],l="enter"===a||13===r,w=(n[R],M.$()),b=w.before,y=w.value,E=w.after,L=b.slice(-1),A=E.slice(0,1),j=b[x](RegExp("(?:^|\\n)("+f(i)+"+).*$")),P=j?j[1]:"",_=o[a];c?"z"===a||90===r?(M[$](),O(),s(n)):"y"===a||89===r?(M[N](),O(),s(n)):"]"===a||221===r?(M[T](i),O(),s(n)):("["===a||219===r)&&(M[S](i),O(),s(n)):"\\"!==L&&a===A?(M[q](w.end+1),O(),s(n)):"\\"!==L&&_?(O(),M.wrap(a,_),O(),s(n)):"backspace"===a||8===r?(!y&&b[x](RegExp(f(i)+"$"))?(M[S](i),O(),s(n)):(_=o[L],_&&_===A&&(M.peel(L,A),s(n))),O()):"delete"===a||46===r?(_=o[L],_&&_===A&&(M.peel(L,A),s(n)),O()):l?(_=o[L],_&&_===A?(M.wrap("\n"+i+P,"\n"+P)[d]()[v](),s(n)):(y||P)&&(M.insert("\n",-1,!0)[T](P)[d]()[v](),s(n)),O()):u(O,0)}}function O(){U&&M[A]()}var M=this,H=M.pop,U=$ in l._;l.call(M,t,e);var D="source",e=M.state,X={},K=!(D in e)||e[D];X[h]={"(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},X[q]=!0,K&&(e[D]=r(X,!0===e[D]?{}:e[D]));var F,B=e[D]||{};K&&(i(t,y,c),B[q]&&(i(t,E,n),i(t,L,a),i(t,P,a),i(t,_,n)),O()),M.pop=function(){return H&&H.call(M),o(t,y,c),o(t,E,n),o(t,L,a),o(t,P,a),o(t,_,n),U&&M.loss(!0),M},M.state=e};for(c in l)a[c]=l[c];a.prototype=a._=l._,t[n]=a}(window,document,"TE");
