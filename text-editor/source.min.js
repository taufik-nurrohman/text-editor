/*!
 * ==============================================================
 *  TEXT EDITOR SOURCE 1.1.1
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(e,t,n){function o(e,t,n){e.removeEventListener(t,n)}function r(e,t,n){e.addEventListener(t,n,!1)}function a(e,t){return Object.assign(e,t)}function c(e){return"function"==typeof e}function u(e){e&&e.preventDefault()}var i,s,f=e[n],l=setTimeout,p=f.esc,d="blur",v="close",h="ctrlKey",y="focus",b="fromCharCode",m="indexOf",w="lastIndexOf",g="keydown",E="match",$="mousedown",k="mouseup",x="pull",C="push",L="record",O="redo",_="replace",K="select",R="shiftKey",T="toLowerCase",j="touch",z=j+"end",D=j+"start",I="undo";i=function(e,t){function i(){l(function(){{var e=W.$(),t=/\W/g,n=".",o=e.before[_](t,n)[w](n),r=e.after[_](t,n)[m](n);e.value}o=0>o?0:o+1,r=0>r?e.after.length:r,H!==e.start&&W[K](o,e.end+r)},0)}function s(){H=W.$().start}function j(e){var n=J[v],o=t.tab,r=e.keyCode,a=(e.key||String[b](r))[T](),c=e[h],i="enter"===a||13===r,s=e[R],f="tab"===a||9===r,m=W.$(),w=m.before,g=m.value,$=m.after,k=w.slice(-1),L=$.slice(0,1),_=w[E](RegExp("(?:^|\\n)("+p(o)+"+).*$")),j=_?_[1]:"",z=n[a];c?A&&("z"===a||90===r?(W[I](),u(e)):("y"===a||89===r)&&(W[O](),u(e))):f?(W[s?x:C](o),S(),u(e)):"\\"!==k&&a===L?(W[K](m.end+1),S(),u(e)):"\\"!==k&&z?(S(),W.wrap(a,z),S(),u(e)):"backspace"===a||8===r?(!g&&w[E](RegExp(p(o)+"$"))?(W[x](o),u(e)):(z=n[k],z&&z===L&&(W.peel(k,L),u(e))),S()):"delete"===a||46===r?(z=n[k],z&&z===L&&(W.peel(k,L),u(e)),S()):i?(z=n[k],z&&z===L?(W.wrap("\n"+o+j,"\n"+j)[d]()[y](),u(e)):(g||j)&&(W.insert("\n",-1,!0)[C](j)[d]()[y](),u(e)),S()):l(S,0)}function S(){A&&W[L]()}var W=this,q=W.pop,A=I in f._;f.call(this,e,t);var B="source",t=W.state,F={},G=!(B in t)||t[B];F[v]={"(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},F[K]=!0,G&&(t[B]=a(F,!0===t[B]?{}:t[B]));var H,J=t[B]||{};G&&(r(e,g,j),J[K]&&(r(e,$,i),r(e,k,s),r(e,z,s),r(e,D,i)),S()),W.pop=function(){return c(q)&&q.call(W),o(e,g,j),o(e,$,i),o(e,k,s),o(e,z,s),o(e,D,i),delete e[n],A&&W[loss](!0),W},W.state=t};for(s in f)i[s]=f[s];i.prototype=i._=f._,e[n]=i}(window,document,"TE");